<?php

/* 
Задача 6
Названия файлов транслитом

Пусть есть папка с файлами, названия которых даны на русском языке.
Преобразуйте русский текст в названиях файлов в его транслит.
*/

/* 
ВАРИК 2
Получилось переименовать, а в первом варианте переименовать и создать новые
еще ремарка в данном варианте обязательно необходимо было подключить в php.ini расширение intl

Путь решения:
0. для начала создадим в папке zadacha6 пару-тройку файло пример1.txt пример2.php пример3.js

1. Объявим переменную и присвоим строку включающую путь к папке с файлами
2. Объявим переменную и с помощью функцию scandir получим список всех файлов в директории
3. создадим цикл форич, который переберет каждый элемент переменной, полученной от работы scandir и создаст третью переменную
3.1. объявим условие иф в котором проверим условие чтобы текущий элемент не был равен текущей директории
и не был равен родительской директории
3.1.1 По результату первого условия объявим четвертую переменную коттоорая будет принимать значение
полученное от работы функции transliterator_transliterate у которой два аргумента 'Russian-Latin/BGN'
и третью переменную
3.1.2. создадим еще одно условие в котором проверим, что новое название отличается от оригинального
Это необходимо для того чтобы переименовать только те файлы и директории, которые содержат русские 
символы
3.1.2.1. если условие в предидущем пункте истинно, то тут будет выполнятся функция rename
3.1.2.2. далее выполним вывод в консоль
*/


$dir = './task6'; // Путь к папке с файлами
$paths = scandir($dir); // Получаем список файлов

// Проходим по каждому файлу в папке
foreach ($paths as $path) {
    if ($path !== '.' && $path !== '..') { // Игнорируем служебные директории
        // Выполняем транслитерацию имени файла
        $newPath = transliterator_transliterate('Russian-Latin/BGN', $path);
        
        // Переименовываем файл, если название изменилось
        if ($newPath !== $path) {
            rename("$dir/$path", "$dir/$newPath");
            echo "Переименован: $path -> $newPath\n";
        }
    }
}

/* 
ВЫВОД
Переименован: пример1.txt -> primer1.txt
Переименован: пример2.php -> primer2.php
Переименован: пример3.js -> primer3.js
*/

/* Вариант 1 более замороченный */